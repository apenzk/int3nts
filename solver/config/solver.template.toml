# Solver Service Configuration
# 
# This file contains all configuration settings for the solver service.
# Copy this template to solver.toml and update the values for your environment.
#
# SECURITY WARNING: This file contains private keys and should never be committed to version control!

# Service Configuration
[service]
coordinator_url = "http://127.0.0.1:3333"  # Coordinator API base URL (draft negotiation)
polling_interval_ms = 2000               # Polling interval for checking pending drafts (milliseconds)
e2e_mode = false                          # E2E testing mode: true = use aptos CLI with profiles, false = use movement CLI with private keys
acceptance_api_host = "127.0.0.1"         # Solver acceptance API host
acceptance_api_port = 4444                # Solver acceptance API port

# Hub Chain Configuration
# The hub chain is where intents are created
[hub_chain]
name = "Hub Chain"                        # Human-readable name for the chain
rpc_url = "http://127.0.0.1:8080/v1"     # RPC endpoint URL for blockchain communication
chain_id = 1                              # Unique chain identifier
module_addr = "0x123"                 # Address of the intent framework module
profile = "solver-chain1"                 # Aptos/Movement CLI profile name for this chain
e2e_mode = false                          # E2E testing mode: true = use aptos CLI with profiles, false = use movement CLI with private keys

# Connected Chain Configurations
# Use [[connected_chain]] for each connected chain (supports multiple chains)
# Each section must have a "type" field: "mvm", "evm", or "svm"

# Example: MVM Connected Chain
# [[connected_chain]]
# type = "mvm"
# name = "Connected Move VM Chain"          # Human-readable name for the chain
# rpc_url = "http://127.0.0.1:8082/v1"     # RPC endpoint URL for blockchain communication
# chain_id = 2                              # Unique chain identifier
# module_addr = "0x123"                 # Address of the intent framework module
# profile = "solver-chain2"                # Aptos/Movement CLI profile name for this chain
# e2e_mode = false                          # E2E testing mode

# Example: EVM Connected Chain
# [[connected_chain]]
# type = "evm"
# name = "Connected EVM Chain"            # Human-readable name for the chain
# rpc_url = "https://base-sepolia.g.alchemy.com/v2/YOUR_KEY"  # RPC endpoint URL for EVM chain
# chain_id = 84532                         # Chain ID (e.g., 84532 for Base Sepolia)
# escrow_contract_addr = "0x..."         # Address of the IntentEscrow contract
# private_key_env = "SOLVER_EVM_PRIVATE_KEY"  # Environment variable containing EVM private key
# outflow_validator_addr = "0x..."       # Address of the IntentOutflowValidator contract
# gmp_endpoint_addr = "0x..."            # Address of the IntentGmp contract

# Example: SVM Connected Chain
# [[connected_chain]]
# type = "svm"
# name = "Connected SVM Chain"            # Human-readable name for the chain
# rpc_url = "http://127.0.0.1:8899"       # RPC endpoint URL for SVM chain
# chain_id = 1001                         # Chain ID (arbitrary routing ID)
# escrow_program_id = "<your-svm-program-id>"
# private_key_env = "SOLANA_SOLVER_PRIVATE_KEY" # Environment variable containing solver private key (base58)

# Acceptance Criteria
# Defines which token pairs are supported and their exchange rates
[acceptance]
# Token pair format: "offered_chain_id:offered_token:desired_chain_id:desired_token" = exchange_rate
# Exchange rate = how many offered tokens per 1 desired token
# Example: If rate is 1.0, then 1 offered token = 1 desired token
# Example: If rate is 0.5, then 0.5 offered tokens = 1 desired token (offered token is worth more)

# Example: Token A (chain 1) -> Token B (chain 2) at 1:1 rate
[[acceptance.tokenpair]]
source_chain_id = 1
source_token = "0xaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"
target_chain_id = 2
target_token = "0xbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb"
ratio = 1.0

# Example: USDC (Base Sepolia) -> USDC (Ethereum Sepolia) at 1:1 rate
# [[acceptance.tokenpair]]
# source_chain_id = 84532
# source_token = "0x036CbD53842c5426634e7929541eC2318f3dCF7e"
# target_chain_id = 11155111
# target_token = "0x1c7D4B196Cb0C7B01d743Fbc6116a902379C7238"
# ratio = 1.0

# Example: Token A (chain 1) -> Token C (chain 2) at 0.5 rate
# [[acceptance.tokenpair]]
# source_chain_id = 1
# source_token = "0xaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa"
# target_chain_id = 2
# target_token = "0xcccccccccccccccccccccccccccccccccccccccc"
# ratio = 0.5

# Solver Signing Configuration
[solver]
profile = "solver-chain1"                # Aptos/Movement CLI profile name for solver account
address = "0x..."                        # Solver address (0x-prefixed hex)
